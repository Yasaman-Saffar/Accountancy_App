{% extends "base.html" %}
{% block page_title %}Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø³Ø§Ø¨Ù‚Ù‡{% endblock %}

{% block page_content %}
<div class="container mt-5 text-center" dir="rtl">

  <h2 class="mb-5 fw-bold text-primary">ğŸ“Š Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ù„ÛŒ Ù…Ø³Ø§Ø¨Ù‚Ù‡</h2>

  {% if setting and questions and items and inflations %}
  <!-- Generic Setting -->
  <div class="card shadow-lg border-0 mb-5">
    <div class="card-header bg-primary text-white fs-5">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù„ÛŒ Ù…Ø³Ø§Ø¨Ù‚Ù‡</div>
    <div class="card-body text-end fs-6 bg-light">
      <p>â± <strong>Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ù…Ø³Ø§Ø¨Ù‚Ù‡:</strong> {{ setting.duration_hours }} Ø³Ø§Ø¹Øª Ùˆ {{ setting.duration_minutes }} Ø¯Ù‚ÛŒÙ‚Ù‡</p>
      <p>ğŸ¦ <strong>Ù†Ø±Ø® Ø³ÙˆØ¯ Ø¨Ø§Ù†Ú©:</strong> {{ setting.bank_interest_rate }}%</p>
      <p>â° <strong>ÙØ§ØµÙ„Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø³ÙˆØ¯:</strong> Ù‡Ø± {{ setting.bank_interest_interval }} Ø«Ø§Ù†ÛŒÙ‡</p>
      <p>ğŸ’° <strong>Ø³Ø±Ù…Ø§ÛŒÙ‡ Ø§ÙˆÙ„ÛŒÙ‡ Ù‡Ø± Ú¯Ø±ÙˆÙ‡:</strong> {{ setting.initial_capital }}</p>
    </div>
  </div>

  <!-- Questions Part -->
  <div class="card shadow-lg border-0 mb-5">
    <div class="card-header bg-info text-white fs-5">Ù…Ø´Ø®ØµØ§Øª Ø³Ø¤Ø§Ù„Ø§Øª</div>
    <div class="card-body bg-light">
      <div class="row">
        {% for q in questions %}
        <div class="col-md-4 mb-3">
          <div class="border rounded bg-white shadow-sm p-3 text-end h-100">
            <h6 class="text-primary fw-bold">Ø³Ø·Ø­: {{ q.level|title }}</h6>
            <p>ğŸ”¢ ØªØ¹Ø¯Ø§Ø¯: <strong>{{ q.stock }}</strong></p>
            <p>ğŸ’¸ Ù‚ÛŒÙ…Øª Ø®Ø±ÛŒØ¯: <strong>{{ q.buy_price }}</strong></p>
            <p>ğŸ Ø¬Ø§ÛŒØ²Ù‡ Ø³Ø¤Ø§Ù„: <strong>{{ q.sell_price }}</strong></p>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Items and Inflations-->
  <div class="card shadow-lg border-0 mb-5">
    <div class="card-header bg-success text-white fs-5">Ú©Ø§Ù„Ø§Ù‡Ø§ Ùˆ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¯Ø± ØªÙˆØ±Ù…â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù</div>
    <div class="card-body bg-light">

      {% for item in items %}
      <div class="border rounded bg-white p-3 mb-4 shadow-sm text-end">
        <h6 class="fw-bold text-success">{{ item.name }}</h6>
        <p>ğŸ’° Ù‚ÛŒÙ…Øª Ù¾Ø§ÛŒÙ‡: <strong>{{ item.base_price }}</strong></p>
        <p>ğŸ’° Ù‚ÛŒÙ…Øª ÙØ¹Ù„ÛŒ: <strong>{{ item.current_price }}</strong></p>

        <div class="table-responsive mt-3">
          <table class="table table-bordered text-center align-middle">
            <thead class="table-light">
              <tr>
                <th>Ø¯ÙˆØ± ØªÙˆØ±Ù…</th>
                <th>Ù‚ÛŒÙ…Øª Ú©Ø§Ù„Ø§</th>
              </tr>
            </thead>
            <tbody>
              {% for inf in inflations %}
                {% if inf.item.id == item.id %}
                <tr>
                  <td>ØªÙˆØ±Ù… {{ inf.round_number }}</td>
                  <td>{{ inf.price }}</td>
                </tr>
                {% endif %}
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  {% else %}
  <div class="alert alert-danger mt-4">Ù‡Ù†ÙˆØ² Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ ØªÙˆØ³Ø· Ù…Ø¯ÛŒØ± Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.</div>
  {% endif %}

  <a href="{% url 'core:setting' %}" class="btn btn-secondary btn-lg mt-4 mb-5 shadow-sm px-5">
    Ø¨Ø§Ø²Ú¯Ø´Øª
  </a>

</div>
{% endblock %}
